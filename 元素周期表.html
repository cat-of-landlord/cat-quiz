<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <title>å…ƒç´ å‘¨æœŸè¡¨è¯†åæŒ‘æˆ˜</title>
    <style>
      :root {
        /* å…ƒç´ ç±»å‹é…è‰²ï¼ˆç»å…¸å‘¨æœŸè¡¨é£æ ¼ï¼‰ */
        --alkali: #e74c3c; /* ç¢±é‡‘å±-çº¢ */
        --alkaline-earth: #f39c12; /* ç¢±åœŸé‡‘å±-æ©™é»„ */
        --transition: #f3a6b2; /* è¿‡æ¸¡é‡‘å±-æµ…ç²‰ */
        --post-transition: #95a5a6; /* åè¿‡æ¸¡é‡‘å±-ç° */
        --metalloid: #9b59b6; /* ç±»é‡‘å±-ç´« */
        --nonmetal: #27ae60; /* éé‡‘å±-ç»¿ */
        --halogen: #f1c40f; /* å¤ç´ -äº®é»„ */
        --noble: #3498db; /* ç¨€æœ‰æ°”ä½“-è“ */
        --lanthanide: #d35400; /* é•§ç³»-æ©™çº¢ */
        --actinide: #8e44ad; /* é”•ç³»-æ·±ç´« */
        --unknown: #bdc3c7; /* æœªçŸ¥ç±»å‹-æµ…ç° */
        --border: #ddd;
        --hidden-bg: #f0f0f0; /* æœªç­”èƒŒæ™¯ */
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
        background: #f8f9fa;
        color: #333;
        padding: 130px 10px 20px;
        font-size: 14px;
      }

      /* é¡¶éƒ¨Headerï¼ˆç´§å‡‘å¸ƒå±€ï¼‰ */
      .header-sticky {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        background: white;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        padding: 8px 10px;
      }
      .header-content {
        max-width: 1200px;
        margin: 0 auto;
      }
      .header-sticky h2 {
        margin: 0 0 8px 0;
        font-size: 1.1rem;
        text-align: center;
      }
      .input-group {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin-bottom: 8px;
        flex-wrap: wrap;
      }
      input {
        padding: 8px 12px;
        font-size: 14px;
        width: 280px;
        border: 2px solid #ddd;
        border-radius: 20px;
        outline: none;
        transition: border 0.3s;
      }
      input:focus {
        border-color: var(--noble);
        box-shadow: 0 0 6px rgba(52, 152, 219, 0.2);
      }
      .progress-container {
        max-width: 600px;
        margin: 0 auto;
        height: 6px;
        background: #eee;
        border-radius: 3px;
        overflow: hidden;
      }
      #progressBar {
        width: 0%;
        height: 100%;
        background: var(--nonmetal);
        transition: width 0.3s;
      }
      .stats-bar {
        display: flex;
        justify-content: center;
        margin: 5px auto;
        font-size: 0.85rem;
      }
      .return-home {
        position: absolute;
        top: 8px;
        left: 10px;
        padding: 4px 10px;
        border-radius: 12px;
        border: none;
        background: #6c757d;
        color: white;
        cursor: pointer;
        font-size: 12px;
      }
      .message-tip {
        height: 20px;
        font-size: 13px;
        margin: 3px 0;
        text-align: center;
        font-weight: bold;
      }
      button {
        padding: 6px 18px;
        border-radius: 18px;
        border: none;
        cursor: pointer;
        font-weight: bold;
        font-size: 13px;
        transition: opacity 0.2s;
      }
      button:hover {
        opacity: 0.9;
      }
      #endBtn {
        background: #6c757d;
        color: white;
      }
      #restartBtn {
        background: var(--noble);
        color: white;
        display: none;
      }
      .hidden {
        display: none;
      }
      .show {
        display: inline-block;
      }

      /* å‘¨æœŸè¡¨ä¸»è¡¨ï¼šCSS Gridå®ç°ç»å…¸7è¡Œ18åˆ—å¸ƒå±€ */
      .periodic-table {
        max-width: 1200px;
        margin: 20px auto;
        display: grid;
        grid-template-rows: repeat(7, 60px); /* 7ä¸ªå‘¨æœŸ */
        grid-template-columns: repeat(18, 60px); /* 18ä¸ªæ— */
        gap: 2px;
        justify-content: center;
      }

      /* é•§ç³»/é”•ç³»å®¹å™¨ï¼ˆå•ç‹¬å±•ç¤ºï¼‰ */
      .lanthanide-actinide {
        max-width: 1200px;
        margin: 20px auto;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .lanthanide-group,
      .actinide-group {
        display: grid;
        grid-template-columns: repeat(15, 60px); /* 15ä¸ªå…ƒç´ /ç³» */
        gap: 2px;
        justify-content: center;
      }
      .lanthanide-group h3,
      .actinide-group h3 {
        grid-column: 1 / -1;
        text-align: center;
        font-size: 1rem;
        color: var(--lanthanide);
        margin: 5px 0;
      }
      .actinide-group h3 {
        color: var(--actinide);
      }

      /* å…ƒç´ å•å…ƒæ ¼åŸºç¡€æ ·å¼ */
      .element-cell {
        border: 1px solid var(--border);
        border-radius: 4px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 2px;
        position: relative;
        transition: all 0.3s;
        background: var(--hidden-bg);
      }
      /* æœªç­”å…ƒç´ ï¼šæŒ‰ç±»å‹æ˜¾ç¤ºæ·¡è‰²èƒŒæ™¯ */
      .element-cell.alkali {
        background: rgba(231, 76, 60, 0.2);
      }
      .element-cell.alkaline-earth {
        background: rgba(243, 156, 18, 0.2);
      }
      .element-cell.transition {
        background: rgba(243, 166, 178, 0.2);
      }
      .element-cell.post-transition {
        background: rgba(149, 165, 166, 0.2);
      }
      .element-cell.metalloid {
        background: rgba(155, 89, 182, 0.2);
      }
      .element-cell.nonmetal {
        background: rgba(39, 174, 96, 0.2);
      }
      .element-cell.halogen {
        background: rgba(241, 196, 15, 0.2);
      }
      .element-cell.noble {
        background: rgba(52, 152, 219, 0.2);
      }
      .element-cell.lanthanide {
        background: rgba(211, 84, 0, 0.2);
      }
      .element-cell.actinide {
        background: rgba(142, 68, 173, 0.2);
      }
      .element-cell.unknown {
        background: rgba(189, 195, 199, 0.2);
      }

      /* å·²ç­”å…ƒç´ ï¼šæ·±è‰²èƒŒæ™¯+æ˜¾ç¤ºå†…å®¹ */
      .element-cell.revealed {
        border-color: #27ae60;
        box-shadow: 0 0 5px rgba(39, 174, 96, 0.3);
      }
      .element-cell.revealed.alkali {
        background: var(--alkali);
        color: white;
      }
      .element-cell.revealed.alkaline-earth {
        background: var(--alkaline-earth);
        color: #333;
      }
      .element-cell.revealed.transition {
        background: var(--transition);
        color: #333;
      }
      .element-cell.revealed.post-transition {
        background: var(--post-transition);
        color: white;
      }
      .element-cell.revealed.metalloid {
        background: var(--metalloid);
        color: white;
      }
      .element-cell.revealed.nonmetal {
        background: var(--nonmetal);
        color: white;
      }
      .element-cell.revealed.halogen {
        background: var(--halogen);
        color: #333;
      }
      .element-cell.revealed.noble {
        background: var(--noble);
        color: white;
      }
      .element-cell.revealed.lanthanide {
        background: var(--lanthanide);
        color: white;
      }
      .element-cell.revealed.actinide {
        background: var(--actinide);
        color: white;
      }
      .element-cell.revealed.unknown {
        background: var(--unknown);
        color: #333;
      }

      /* å•å…ƒæ ¼å†…å®¹ï¼šåŸå­åºæ•°å§‹ç»ˆæ˜¾ç¤ºï¼Œç¬¦å·+ä¸­æ–‡ç­”å¯¹åæ˜¾ç¤º */
      .element-num {
        font-size: 10px;
        position: absolute;
        top: 2px;
        left: 2px;
        font-weight: bold;
      }
      .element-symbol {
        font-size: 16px;
        font-weight: bold;
        display: none;
      }
      .element-cn {
        font-size: 12px;
        display: none;
      }
      .element-cell.revealed .element-symbol,
      .element-cell.revealed .element-cn {
        display: block;
      }

      /* ç©ºå ä½æ ¼ï¼ˆå‘¨æœŸè¡¨ç©ºç™½å¤„ï¼‰ */
      .empty-cell {
        background: #ecf0f1;
        border: 1px solid var(--border);
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        color: #666;
      }

      /* å“åº”å¼é€‚é…ï¼ˆå°å±å¹•ç¼©å°å•å…ƒæ ¼ï¼‰ */
      @media (max-width: 1200px) {
        .periodic-table {
          grid-template-rows: repeat(7, 50px);
          grid-template-columns: repeat(18, 50px);
        }
        .lanthanide-group,
        .actinide-group {
          grid-template-columns: repeat(15, 50px);
        }
        .element-symbol {
          font-size: 14px;
        }
        .element-cn {
          font-size: 10px;
        }
      }
      @media (max-width: 900px) {
        .periodic-table {
          grid-template-rows: repeat(7, 40px);
          grid-template-columns: repeat(18, 40px);
        }
        .lanthanide-group,
        .actinide-group {
          grid-template-columns: repeat(15, 40px);
        }
        .element-num {
          font-size: 8px;
        }
      }
      @media (max-width: 700px) {
        body {
          padding-top: 110px;
        }
        .periodic-table {
          grid-template-rows: repeat(7, 35px);
          grid-template-columns: repeat(18, 35px);
        }
        .lanthanide-group,
        .actinide-group {
          grid-template-columns: repeat(15, 35px);
        }
      }
    </style>
  </head>
  <body>
    <div class="header-sticky">
      <button class="return-home" onclick="window.location.href='index.html'">
        â† é¦–é¡µ
      </button>
      <div class="header-content">
        <h2>å…ƒç´ å‘¨æœŸè¡¨è¯†åæŒ‘æˆ˜ (<span id="countInfo">0/118</span>)</h2>
        <div class="input-group">
          <input
            id="answerInput"
            type="text"
            placeholder="è¾“å…¥å…ƒç´ ä¸­æ–‡/è‹±æ–‡/ç¬¦å·ï¼Œå›è½¦ç¡®è®¤..."
            autofocus
          />
          <button onclick="endQuiz()" id="endBtn">æäº¤ç»“æœ</button>
          <button onclick="restartQuiz()" id="restartBtn" class="hidden">
            é‡æ–°å¼€å§‹
          </button>
        </div>
        <div class="message-tip" id="message"></div>
        <div class="progress-container">
          <div id="progressBar"></div>
        </div>
        <div class="stats-bar">
          <div>å·²ç­”å¯¹: <span id="correctCount">0</span></div>
        </div>
      </div>
    </div>

    <!-- å‘¨æœŸè¡¨ä¸»è¡¨ -->
    <div class="periodic-table" id="periodicTable"></div>

    <!-- é•§ç³»+é”•ç³»ï¼ˆå•ç‹¬å±•ç¤ºï¼‰ -->
    <div class="lanthanide-actinide">
      <div class="lanthanide-group" id="lanthanideGroup">
        <h3>é•§ç³»å…ƒç´ </h3>
      </div>
      <div class="actinide-group" id="actinideGroup">
        <h3>é”•ç³»å…ƒç´ </h3>
      </div>
    </div>

    <script>
      // ********** 1. 118ä¸ªå…ƒç´ å®Œæ•´æ•°æ® **********
      const elements = [
        // å‘¨æœŸ1
        {
          num: 1,
          cn: "æ°¢",
          en: "Hydrogen",
          symbol: "H",
          period: 1,
          group: 1,
          type: "nonmetal",
        },
        {
          num: 2,
          cn: "æ°¦",
          en: "Helium",
          symbol: "He",
          period: 1,
          group: 18,
          type: "noble",
        },
        // å‘¨æœŸ2
        {
          num: 3,
          cn: "é”‚",
          en: "Lithium",
          symbol: "Li",
          period: 2,
          group: 1,
          type: "alkali",
        },
        {
          num: 4,
          cn: "é“",
          en: "Beryllium",
          symbol: "Be",
          period: 2,
          group: 2,
          type: "alkaline-earth",
        },
        {
          num: 5,
          cn: "ç¡¼",
          en: "Boron",
          symbol: "B",
          period: 2,
          group: 13,
          type: "metalloid",
        },
        {
          num: 6,
          cn: "ç¢³",
          en: "Carbon",
          symbol: "C",
          period: 2,
          group: 14,
          type: "nonmetal",
        },
        {
          num: 7,
          cn: "æ°®",
          en: "Nitrogen",
          symbol: "N",
          period: 2,
          group: 15,
          type: "nonmetal",
        },
        {
          num: 8,
          cn: "æ°§",
          en: "Oxygen",
          symbol: "O",
          period: 2,
          group: 16,
          type: "nonmetal",
        },
        {
          num: 9,
          cn: "æ°Ÿ",
          en: "Fluorine",
          symbol: "F",
          period: 2,
          group: 17,
          type: "halogen",
        },
        {
          num: 10,
          cn: "æ°–",
          en: "Neon",
          symbol: "Ne",
          period: 2,
          group: 18,
          type: "noble",
        },
        // å‘¨æœŸ3
        {
          num: 11,
          cn: "é’ ",
          en: "Sodium",
          symbol: "Na",
          period: 3,
          group: 1,
          type: "alkali",
        },
        {
          num: 12,
          cn: "é•",
          en: "Magnesium",
          symbol: "Mg",
          period: 3,
          group: 2,
          type: "alkaline-earth",
        },
        {
          num: 13,
          cn: "é“",
          en: "Aluminum",
          symbol: "Al",
          period: 3,
          group: 13,
          type: "post-transition",
        },
        {
          num: 14,
          cn: "ç¡…",
          en: "Silicon",
          symbol: "Si",
          period: 3,
          group: 14,
          type: "metalloid",
        },
        {
          num: 15,
          cn: "ç£·",
          en: "Phosphorus",
          symbol: "P",
          period: 3,
          group: 15,
          type: "nonmetal",
        },
        {
          num: 16,
          cn: "ç¡«",
          en: "Sulfur",
          symbol: "S",
          period: 3,
          group: 16,
          type: "nonmetal",
        },
        {
          num: 17,
          cn: "æ°¯",
          en: "Chlorine",
          symbol: "Cl",
          period: 3,
          group: 17,
          type: "halogen",
        },
        {
          num: 18,
          cn: "æ°©",
          en: "Argon",
          symbol: "Ar",
          period: 3,
          group: 18,
          type: "noble",
        },
        // å‘¨æœŸ4
        {
          num: 19,
          cn: "é’¾",
          en: "Potassium",
          symbol: "K",
          period: 4,
          group: 1,
          type: "alkali",
        },
        {
          num: 20,
          cn: "é’™",
          en: "Calcium",
          symbol: "Ca",
          period: 4,
          group: 2,
          type: "alkaline-earth",
        },
        {
          num: 21,
          cn: "é’ª",
          en: "Scandium",
          symbol: "Sc",
          period: 4,
          group: 3,
          type: "transition",
        },
        {
          num: 22,
          cn: "é’›",
          en: "Titanium",
          symbol: "Ti",
          period: 4,
          group: 4,
          type: "transition",
        },
        {
          num: 23,
          cn: "é’’",
          en: "Vanadium",
          symbol: "V",
          period: 4,
          group: 5,
          type: "transition",
        },
        {
          num: 24,
          cn: "é“¬",
          en: "Chromium",
          symbol: "Cr",
          period: 4,
          group: 6,
          type: "transition",
        },
        {
          num: 25,
          cn: "é”°",
          en: "Manganese",
          symbol: "Mn",
          period: 4,
          group: 7,
          type: "transition",
        },
        {
          num: 26,
          cn: "é“",
          en: "Iron",
          symbol: "Fe",
          period: 4,
          group: 8,
          type: "transition",
        },
        {
          num: 27,
          cn: "é’´",
          en: "Cobalt",
          symbol: "Co",
          period: 4,
          group: 9,
          type: "transition",
        },
        {
          num: 28,
          cn: "é•",
          en: "Nickel",
          symbol: "Ni",
          period: 4,
          group: 10,
          type: "transition",
        },
        {
          num: 29,
          cn: "é“œ",
          en: "Copper",
          symbol: "Cu",
          period: 4,
          group: 11,
          type: "transition",
        },
        {
          num: 30,
          cn: "é”Œ",
          en: "Zinc",
          symbol: "Zn",
          period: 4,
          group: 12,
          type: "transition",
        },
        {
          num: 31,
          cn: "é•“",
          en: "Gallium",
          symbol: "Ga",
          period: 4,
          group: 13,
          type: "post-transition",
        },
        {
          num: 32,
          cn: "é”—",
          en: "Germanium",
          symbol: "Ge",
          period: 4,
          group: 14,
          type: "metalloid",
        },
        {
          num: 33,
          cn: "ç ·",
          en: "Arsenic",
          symbol: "As",
          period: 4,
          group: 15,
          type: "metalloid",
        },
        {
          num: 34,
          cn: "ç¡’",
          en: "Selenium",
          symbol: "Se",
          period: 4,
          group: 16,
          type: "nonmetal",
        },
        {
          num: 35,
          cn: "æº´",
          en: "Bromine",
          symbol: "Br",
          period: 4,
          group: 17,
          type: "halogen",
        },
        {
          num: 36,
          cn: "æ°ª",
          en: "Krypton",
          symbol: "Kr",
          period: 4,
          group: 18,
          type: "noble",
        },
        // å‘¨æœŸ5
        {
          num: 37,
          cn: "é“·",
          en: "Rubidium",
          symbol: "Rb",
          period: 5,
          group: 1,
          type: "alkali",
        },
        {
          num: 38,
          cn: "é”¶",
          en: "Strontium",
          symbol: "Sr",
          period: 5,
          group: 2,
          type: "alkaline-earth",
        },
        {
          num: 39,
          cn: "é’‡",
          en: "Yttrium",
          symbol: "Y",
          period: 5,
          group: 3,
          type: "transition",
        },
        {
          num: 40,
          cn: "é”†",
          en: "Zirconium",
          symbol: "Zr",
          period: 5,
          group: 4,
          type: "transition",
        },
        {
          num: 41,
          cn: "é“Œ",
          en: "Niobium",
          symbol: "Nb",
          period: 5,
          group: 5,
          type: "transition",
        },
        {
          num: 42,
          cn: "é’¼",
          en: "Molybdenum",
          symbol: "Mo",
          period: 5,
          group: 6,
          type: "transition",
        },
        {
          num: 43,
          cn: "é”",
          en: "Technetium",
          symbol: "Tc",
          period: 5,
          group: 7,
          type: "transition",
        },
        {
          num: 44,
          cn: "é’Œ",
          en: "Ruthenium",
          symbol: "Ru",
          period: 5,
          group: 8,
          type: "transition",
        },
        {
          num: 45,
          cn: "é“‘",
          en: "Rhodium",
          symbol: "Rh",
          period: 5,
          group: 9,
          type: "transition",
        },
        {
          num: 46,
          cn: "é’¯",
          en: "Palladium",
          symbol: "Pd",
          period: 5,
          group: 10,
          type: "transition",
        },
        {
          num: 47,
          cn: "é“¶",
          en: "Silver",
          symbol: "Ag",
          period: 5,
          group: 11,
          type: "transition",
        },
        {
          num: 48,
          cn: "é•‰",
          en: "Cadmium",
          symbol: "Cd",
          period: 5,
          group: 12,
          type: "transition",
        },
        {
          num: 49,
          cn: "é“Ÿ",
          en: "Indium",
          symbol: "In",
          period: 5,
          group: 13,
          type: "post-transition",
        },
        {
          num: 50,
          cn: "é”¡",
          en: "Tin",
          symbol: "Sn",
          period: 5,
          group: 14,
          type: "post-transition",
        },
        {
          num: 51,
          cn: "é”‘",
          en: "Antimony",
          symbol: "Sb",
          period: 5,
          group: 15,
          type: "metalloid",
        },
        {
          num: 52,
          cn: "ç¢²",
          en: "Tellurium",
          symbol: "Te",
          period: 5,
          group: 16,
          type: "metalloid",
        },
        {
          num: 53,
          cn: "ç¢˜",
          en: "Iodine",
          symbol: "I",
          period: 5,
          group: 17,
          type: "halogen",
        },
        {
          num: 54,
          cn: "æ°™",
          en: "Xenon",
          symbol: "Xe",
          period: 5,
          group: 18,
          type: "noble",
        },
        // å‘¨æœŸ6ï¼ˆé•§ç³»57-71å•ç‹¬å±•ç¤ºï¼‰
        {
          num: 55,
          cn: "é“¯",
          en: "Cesium",
          symbol: "Cs",
          period: 6,
          group: 1,
          type: "alkali",
        },
        {
          num: 56,
          cn: "é’¡",
          en: "Barium",
          symbol: "Ba",
          period: 6,
          group: 2,
          type: "alkaline-earth",
        },
        {
          num: 57,
          cn: "é•§",
          en: "Lanthanum",
          symbol: "La",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 58,
          cn: "é“ˆ",
          en: "Cerium",
          symbol: "Ce",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 59,
          cn: "é•¨",
          en: "Praseodymium",
          symbol: "Pr",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 60,
          cn: "é’•",
          en: "Neodymium",
          symbol: "Nd",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 61,
          cn: "é’·",
          en: "Promethium",
          symbol: "Pm",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 62,
          cn: "é’",
          en: "Samarium",
          symbol: "Sm",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 63,
          cn: "é“•",
          en: "Europium",
          symbol: "Eu",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 64,
          cn: "é’†",
          en: "Gadolinium",
          symbol: "Gd",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 65,
          cn: "é“½",
          en: "Terbium",
          symbol: "Tb",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 66,
          cn: "é•",
          en: "Dysprosium",
          symbol: "Dy",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 67,
          cn: "é’¬",
          en: "Holmium",
          symbol: "Ho",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 68,
          cn: "é“’",
          en: "Erbium",
          symbol: "Er",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 69,
          cn: "é“¥",
          en: "Thulium",
          symbol: "Tm",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 70,
          cn: "é•±",
          en: "Ytterbium",
          symbol: "Yb",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 71,
          cn: "é•¥",
          en: "Lutetium",
          symbol: "Lu",
          period: 6,
          group: 3,
          type: "lanthanide",
        },
        {
          num: 72,
          cn: "é“ª",
          en: "Hafnium",
          symbol: "Hf",
          period: 6,
          group: 4,
          type: "transition",
        },
        {
          num: 73,
          cn: "é’½",
          en: "Tantalum",
          symbol: "Ta",
          period: 6,
          group: 5,
          type: "transition",
        },
        {
          num: 74,
          cn: "é’¨",
          en: "Tungsten",
          symbol: "W",
          period: 6,
          group: 6,
          type: "transition",
        },
        {
          num: 75,
          cn: "é“¼",
          en: "Rhenium",
          symbol: "Re",
          period: 6,
          group: 7,
          type: "transition",
        },
        {
          num: 76,
          cn: "é”‡",
          en: "Osmium",
          symbol: "Os",
          period: 6,
          group: 8,
          type: "transition",
        },
        {
          num: 77,
          cn: "é“±",
          en: "Iridium",
          symbol: "Ir",
          period: 6,
          group: 9,
          type: "transition",
        },
        {
          num: 78,
          cn: "é“‚",
          en: "Platinum",
          symbol: "Pt",
          period: 6,
          group: 10,
          type: "transition",
        },
        {
          num: 79,
          cn: "é‡‘",
          en: "Gold",
          symbol: "Au",
          period: 6,
          group: 11,
          type: "transition",
        },
        {
          num: 80,
          cn: "æ±",
          en: "Mercury",
          symbol: "Hg",
          period: 6,
          group: 12,
          type: "transition",
        },
        {
          num: 81,
          cn: "é“Š",
          en: "Thallium",
          symbol: "Tl",
          period: 6,
          group: 13,
          type: "post-transition",
        },
        {
          num: 82,
          cn: "é“…",
          en: "Lead",
          symbol: "Pb",
          period: 6,
          group: 14,
          type: "post-transition",
        },
        {
          num: 83,
          cn: "é“‹",
          en: "Bismuth",
          symbol: "Bi",
          period: 6,
          group: 15,
          type: "post-transition",
        },
        {
          num: 84,
          cn: "é’‹",
          en: "Polonium",
          symbol: "Po",
          period: 6,
          group: 16,
          type: "post-transition",
        },
        {
          num: 85,
          cn: "ç ¹",
          en: "Astatine",
          symbol: "At",
          period: 6,
          group: 17,
          type: "halogen",
        },
        {
          num: 86,
          cn: "æ°¡",
          en: "Radon",
          symbol: "Rn",
          period: 6,
          group: 18,
          type: "noble",
        },
        // å‘¨æœŸ7ï¼ˆé”•ç³»89-103å•ç‹¬å±•ç¤ºï¼‰
        {
          num: 87,
          cn: "é’«",
          en: "Francium",
          symbol: "Fr",
          period: 7,
          group: 1,
          type: "alkali",
        },
        {
          num: 88,
          cn: "é•­",
          en: "Radium",
          symbol: "Ra",
          period: 7,
          group: 2,
          type: "alkaline-earth",
        },
        {
          num: 89,
          cn: "é”•",
          en: "Actinium",
          symbol: "Ac",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 90,
          cn: "é’",
          en: "Thorium",
          symbol: "Th",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 91,
          cn: "é•¤",
          en: "Protactinium",
          symbol: "Pa",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 92,
          cn: "é“€",
          en: "Uranium",
          symbol: "U",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 93,
          cn: "é•",
          en: "Neptunium",
          symbol: "Np",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 94,
          cn: "é’š",
          en: "Plutonium",
          symbol: "Pu",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 95,
          cn: "é•…",
          en: "Americium",
          symbol: "Am",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 96,
          cn: "é””",
          en: "Curium",
          symbol: "Cm",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 97,
          cn: "é”«",
          en: "Berkelium",
          symbol: "Bk",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 98,
          cn: "é”",
          en: "Californium",
          symbol: "Cf",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 99,
          cn: "é”¿",
          en: "Einsteinium",
          symbol: "Es",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 100,
          cn: "é•„",
          en: "Fermium",
          symbol: "Fm",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 101,
          cn: "é’”",
          en: "Mendelevium",
          symbol: "Md",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 102,
          cn: "é”˜",
          en: "Nobelium",
          symbol: "No",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 103,
          cn: "é“¹",
          en: "Lawrencium",
          symbol: "Lr",
          period: 7,
          group: 3,
          type: "actinide",
        },
        {
          num: 104,
          cn: "ğ¬¬»",
          en: "Rutherfordium",
          symbol: "Rf",
          period: 7,
          group: 4,
          type: "transition",
        },
        {
          num: 105,
          cn: "ğ¬­Š",
          en: "Dubnium",
          symbol: "Db",
          period: 7,
          group: 5,
          type: "transition",
        },
        {
          num: 106,
          cn: "ğ¬­³",
          en: "Seaborgium",
          symbol: "Sg",
          period: 7,
          group: 6,
          type: "transition",
        },
        {
          num: 107,
          cn: "ğ¬­›",
          en: "Bohrium",
          symbol: "Bh",
          period: 7,
          group: 7,
          type: "transition",
        },
        {
          num: 108,
          cn: "ğ¬­¶",
          en: "Hassium",
          symbol: "Hs",
          period: 7,
          group: 8,
          type: "transition",
        },
        {
          num: 109,
          cn: "é¿",
          en: "Meitnerium",
          symbol: "Mt",
          period: 7,
          group: 9,
          type: "transition",
        },
        {
          num: 110,
          cn: "ğ«Ÿ¼",
          en: "Darmstadtium",
          symbol: "Ds",
          period: 7,
          group: 10,
          type: "transition",
        },
        {
          num: 111,
          cn: "ğ¬¬­",
          en: "Roentgenium",
          symbol: "Rg",
          period: 7,
          group: 11,
          type: "transition",
        },
        {
          num: 112,
          cn: "é¿”",
          en: "Copernicium",
          symbol: "Cn",
          period: 7,
          group: 12,
          type: "transition",
        },
        {
          num: 113,
          cn: "é¿­",
          en: "Nihonium",
          symbol: "Nh",
          period: 7,
          group: 13,
          type: "post-transition",
        },
        {
          num: 114,
          cn: "ğ«“§",
          en: "Flerovium",
          symbol: "Fl",
          period: 7,
          group: 14,
          type: "post-transition",
        },
        {
          num: 115,
          cn: "é•†",
          en: "Moscovium",
          symbol: "Mc",
          period: 7,
          group: 15,
          type: "post-transition",
        },
        {
          num: 116,
          cn: "ğ«Ÿ·",
          en: "Livermorium",
          symbol: "Lv",
          period: 7,
          group: 16,
          type: "post-transition",
        },
        {
          num: 117,
          cn: "é¿¬",
          en: "Tennessine",
          symbol: "Ts",
          period: 7,
          group: 17,
          type: "halogen",
        },
        {
          num: 118,
          cn: "é¿«",
          en: "Oganesson",
          symbol: "Og",
          period: 7,
          group: 18,
          type: "noble",
        },
      ];

      // ********** 2. å…¨å±€å˜é‡ **********
      let correctElements = []; // å­˜å‚¨ç­”å¯¹çš„å…ƒç´ num
      const totalCount = elements.length; // æ€»å…ƒç´ æ•°118
      // DOMå…ƒç´ 
      const inputBox = document.getElementById("answerInput");
      const message = document.getElementById("message");
      const countInfo = document.getElementById("countInfo");
      const progressBar = document.getElementById("progressBar");
      const correctCount = document.getElementById("correctCount");
      const periodicTable = document.getElementById("periodicTable");
      const lanthanideGroup = document.getElementById("lanthanideGroup");
      const actinideGroup = document.getElementById("actinideGroup");
      const endBtn = document.getElementById("endBtn");
      const restartBtn = document.getElementById("restartBtn");

      // ********** 3. åˆå§‹åŒ–å‘¨æœŸè¡¨ **********
      function initPeriodicTable() {
        // æ¸…ç©ºå®¹å™¨
        periodicTable.innerHTML = "";
        lanthanideGroup.innerHTML = "<h3>é•§ç³»å…ƒç´ </h3>";
        actinideGroup.innerHTML = "<h3>é”•ç³»å…ƒç´ </h3>";

        // æ­¥éª¤1ï¼šæ¸²æŸ“ä¸»å‘¨æœŸè¡¨ï¼ˆ7è¡Œ18åˆ—ï¼‰
        // å…ˆå¡«å……ç©ºå•å…ƒæ ¼
        for (let period = 1; period <= 7; period++) {
          for (let group = 1; group <= 18; group++) {
            // è·³è¿‡é•§ç³»/é”•ç³»å ä½ï¼ˆå‘¨æœŸ6/7ï¼Œç¬¬3æ—ï¼‰
            if ((period === 6 || period === 7) && group === 3) {
              const emptyCell = document.createElement("div");
              emptyCell.className = "empty-cell";
              emptyCell.textContent = period === 6 ? "é•§ç³»" : "é”•ç³»";
              emptyCell.style.gridRow = period;
              emptyCell.style.gridColumn = group;
              periodicTable.appendChild(emptyCell);
              continue;
            }

            // æŸ¥æ‰¾å½“å‰å‘¨æœŸ+æ—çš„å…ƒç´ 
            const element = elements.find(
              (el) => el.period === period && el.group === group
            );
            if (element) {
              // æ¸²æŸ“å…ƒç´ å•å…ƒæ ¼
              const cell = createElementCell(element);
              cell.style.gridRow = period;
              cell.style.gridColumn = group;
              periodicTable.appendChild(cell);
            } else {
              // ç©ºå•å…ƒæ ¼
              const emptyCell = document.createElement("div");
              emptyCell.className = "empty-cell";
              emptyCell.style.gridRow = period;
              emptyCell.style.gridColumn = group;
              periodicTable.appendChild(emptyCell);
            }
          }
        }

        // æ­¥éª¤2ï¼šæ¸²æŸ“é•§ç³»ï¼ˆ57-71ï¼‰
        const lanthanides = elements.filter((el) => el.type === "lanthanide");
        lanthanides.forEach((el) => {
          const cell = createElementCell(el);
          lanthanideGroup.appendChild(cell);
        });

        // æ­¥éª¤3ï¼šæ¸²æŸ“é”•ç³»ï¼ˆ89-103ï¼‰
        const actinides = elements.filter((el) => el.type === "actinide");
        actinides.forEach((el) => {
          const cell = createElementCell(el);
          actinideGroup.appendChild(cell);
        });

        // æ›´æ–°è¿›åº¦æ˜¾ç¤º
        updateProgress();
      }

      // åˆ›å»ºå•ä¸ªå…ƒç´ å•å…ƒæ ¼
      function createElementCell(element) {
        const cell = document.createElement("div");
        cell.className = `element-cell ${element.type}`;
        cell.id = `element-${element.num}`; // å”¯ä¸€æ ‡è¯†ï¼šelement-1, element-2...

        // åŸå­åºæ•°ï¼ˆå§‹ç»ˆæ˜¾ç¤ºï¼‰
        const numEl = document.createElement("div");
        numEl.className = "element-num";
        numEl.textContent = element.num;

        // å…ƒç´ ç¬¦å·ï¼ˆç­”å¯¹åæ˜¾ç¤ºï¼‰
        const symbolEl = document.createElement("div");
        symbolEl.className = "element-symbol";
        symbolEl.textContent = element.symbol;

        // ä¸­æ–‡åç§°ï¼ˆç­”å¯¹åæ˜¾ç¤ºï¼‰
        const cnEl = document.createElement("div");
        cnEl.className = "element-cn";
        cnEl.textContent = element.cn;

        // ç»„è£…å•å…ƒæ ¼
        cell.appendChild(numEl);
        cell.appendChild(symbolEl);
        cell.appendChild(cnEl);

        // å¦‚æœå·²ç­”å¯¹ï¼Œæ ‡è®°ä¸ºrevealed
        if (correctElements.includes(element.num)) {
          cell.classList.add("revealed");
        }

        return cell;
      }

      // ********** 4. ç­”é¢˜æ ¡éªŒé€»è¾‘ **********
      function checkAnswer() {
        const input = inputBox.value.trim().toLowerCase().replace(/\s+/g, "");
        if (!input) {
          message.innerHTML = `<span style="color:orange">âš  è¯·è¾“å…¥å…ƒç´ åç§°/ç¬¦å·</span>`;
          return;
        }

        // æŸ¥æ‰¾åŒ¹é…çš„å…ƒç´ ï¼ˆæ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€ç¬¦å·ï¼Œå¿½ç•¥å¤§å°å†™/ç©ºæ ¼ï¼‰
        const matchedElement = elements.find(
          (el) =>
            el.cn.toLowerCase() === input ||
            el.en.toLowerCase() === input ||
            el.symbol.toLowerCase() === input
        );

        if (matchedElement) {
          const num = matchedElement.num;
          if (correctElements.includes(num)) {
            // å·²ç­”å¯¹è¿‡
            message.innerHTML = `<span style="color:orange">âš  ä½ å·²ç»ç­”å¯¹ã€Œ${matchedElement.cn}(${matchedElement.symbol})ã€äº†</span>`;
          } else {
            // ç­”å¯¹æ–°å…ƒç´ 
            correctElements.push(num);
            // æ ‡è®°å•å…ƒæ ¼ä¸ºå·²ç­”
            const cell = document.getElementById(`element-${num}`);
            if (cell) cell.classList.add("revealed");
            // æ»šåŠ¨åˆ°è¯¥å…ƒç´ 
            cell.scrollIntoView({ behavior: "smooth", block: "center" });
            // æç¤ºä¿¡æ¯
            message.innerHTML = `<span style="color:#27ae60">âœ” ç­”å¯¹äº†ï¼${matchedElement.cn} (${matchedElement.symbol})</span>`;
            // æ›´æ–°è¿›åº¦
            updateProgress();

            // å…¨éƒ¨ç­”å¯¹è‡ªåŠ¨æäº¤
            if (correctElements.length === totalCount) {
              endQuiz();
            }
          }
        } else {
          // æœªåŒ¹é…åˆ°
          message.innerHTML = `<span style="color:#e74c3c">âœ˜ æœªåŒ¹é…åˆ°è¯¥å…ƒç´ ï¼Œè¯·æ£€æŸ¥è¾“å…¥</span>`;
        }

        // æ¸…ç©ºè¾“å…¥æ¡†
        inputBox.value = "";
      }

      // ********** 5. æ›´æ–°è¿›åº¦æ¡/ç»Ÿè®¡ä¿¡æ¯ **********
      function updateProgress() {
        const correctNum = correctElements.length;
        // æ›´æ–°æ–‡æœ¬ç»Ÿè®¡
        countInfo.textContent = `${correctNum}/${totalCount}`;
        correctCount.textContent = correctNum;
        // æ›´æ–°è¿›åº¦æ¡
        const progress = (correctNum / totalCount) * 100;
        progressBar.style.width = `${progress}%`;
      }

      // ********** 6. ç»“æŸç­”é¢˜ï¼ˆæ˜¾ç¤ºæ‰€æœ‰æœªç­”å…ƒç´ ï¼‰ **********
      function endQuiz() {
        // ç¦ç”¨è¾“å…¥å’Œæäº¤æŒ‰é’®
        inputBox.disabled = true;
        endBtn.style.display = "none";
        restartBtn.style.display = "inline-block";

        // æ˜¾ç¤ºæ‰€æœ‰å…ƒç´ 
        elements.forEach((el) => {
          const cell = document.getElementById(`element-${el.num}`);
          if (cell) cell.classList.add("revealed");
        });

        // æç¤ºæœ€ç»ˆç»“æœ
        const correctNum = correctElements.length;
        const accuracy = ((correctNum / totalCount) * 100).toFixed(1);
        message.innerHTML = `<span style="color:#3498db">ğŸ“Š æŒ‘æˆ˜ç»“æŸï¼å…±ç­”å¯¹${correctNum}ä¸ªå…ƒç´ ï¼Œæ­£ç¡®ç‡${accuracy}%</span>`;
      }

      // ********** 7. é‡æ–°å¼€å§‹æŒ‘æˆ˜ **********
      function restartQuiz() {
        // é‡ç½®å…¨å±€å˜é‡
        correctElements = [];
        // å¯ç”¨è¾“å…¥
        inputBox.disabled = false;
        inputBox.value = "";
        inputBox.focus();
        // é‡ç½®æŒ‰é’®æ˜¾ç¤º
        endBtn.style.display = "inline-block";
        restartBtn.style.display = "none";
        // é‡ç½®æç¤º
        message.innerHTML = "";
        // é‡æ–°åˆå§‹åŒ–å‘¨æœŸè¡¨
        initPeriodicTable();
      }

      // ********** 8. ç»‘å®šäº‹ä»¶ **********
      // å›è½¦æäº¤ç­”æ¡ˆ
      inputBox.addEventListener("keydown", (e) => {
        if (e.key === "Enter") checkAnswer();
      });
      // é¡µé¢åŠ è½½åˆå§‹åŒ–
      window.onload = () => {
        initPeriodicTable();
        inputBox.focus();
      };
    </script>
  </body>
</html>
